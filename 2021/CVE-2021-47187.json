{
	"id": "CVE-2021-47187",
	"sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
	"vulnStatus": "Awaiting Analysis",
	"published": "2024-04-10T19:15:47.480",
	"lastModified": "2024-04-10T19:49:51.183",
	"descriptions": [
		{
			"lang": "en",
			"value": "In the Linux kernel, the following vulnerability has been resolved:\n\narm64: dts: qcom: msm8998: Fix CPU/L2 idle state latency and residency\n\nThe entry/exit latency and minimum residency in state for the idle\nstates of MSM8998 were ..bad: first of all, for all of them the\ntimings were written for CPU sleep but the min-residency-us param\nwas miscalculated (supposedly, while porting this from downstream);\nThen, the power collapse states are setting PC on both the CPU\ncluster *and* the L2 cache, which have different timings: in the\nspecific case of L2 the times are higher so these ones should be\ntaken into account instead of the CPU ones.\n\nThis parameter misconfiguration was not giving particular issues\nbecause on MSM8998 there was no CPU scaling at all, so cluster/L2\npower collapse was rarely (if ever) hit.\nWhen CPU scaling is enabled, though, the wrong timings will produce\nSoC unstability shown to the user as random, apparently error-less,\nsudden reboots and/or lockups.\n\nThis set of parameters are stabilizing the SoC when CPU scaling is\nON and when power collapse is frequently hit."
		},
		{
			"lang": "es",
			"value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: arm64: dts: qcom: msm8998: Se corrige la latencia y residencia del estado inactivo de la CPU/L2 La latencia de entrada/salida y la residencia mínima en el estado para los estados inactivos de MSM8998 eran... malas: en primer lugar, para todos ellos, los tiempos se escribieron para el sueño de la CPU, pero el parámetro min-residency-us se calculó mal (supuestamente, al portar esto desde el lado descendente); luego, los estados de colapso de energía están configurando PC tanto en el clúster de la CPU *como* en el caché L2, que tienen diferentes tiempos: en el caso específico de L2, los tiempos son más altos, por lo que estos deben tenerse en cuenta en lugar de los de la CPU. Esta configuración incorrecta de parámetros no estaba dando problemas particulares porque en MSM8998 no había escalamiento de la CPU en absoluto, por lo que el colapso de energía del clúster/L2 rara vez (o nunca) se veía afectado. Sin embargo, cuando el escalado de CPU está habilitado, los tiempos incorrectos producirán inestabilidad del SoC, que se mostrará al usuario como reinicios y/o bloqueos repentinos aleatorios, aparentemente sin errores. Este conjunto de parámetros estabiliza el SoC cuando el escalado de CPU está activado y cuando se producen caídas de energía con frecuencia."
		}
	],
	"references": [
		{
			"source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
			"url": "https://git.kernel.org/stable/c/118c826ef8b43efe0fda8faf419673707ee8c5e5"
		},
		{
			"source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
			"url": "https://git.kernel.org/stable/c/3f1dcaff642e75c1d2ad03f783fa8a3b1f56dd50"
		},
		{
			"source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
			"url": "https://git.kernel.org/stable/c/a14d7038ea201c5526375becfc43b9ba281b1e82"
		},
		{
			"source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
			"url": "https://git.kernel.org/stable/c/e52fecdd0c142b95c720683885b06ee3f0e065c8"
		}
	],
	"metrics": {}
}
